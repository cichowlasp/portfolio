---
import Layout from '../layouts/Layout.astro';
import Section from '../layouts/Section.astro';
import Button from '../components/Button.astro';

const email = 'cichowlas.p@gmail.com';
---

<Layout title='cichowlasp - portfolio'>
	<main class='flex justify-center items-center flex-col'>
		<nav
			class='bg-gray-200 flex flex-row justify-between w-screen max-w-screen py-4 lg:p-8 lg:px-16 px-8 items-center sticky top-0 z-10 border-b-2 border-gray-300 border-opacity-50 overflow-hidden'
		>
			<div class='flex gap-4'>
				<div
					class='lg:hidden bg-gray-200 rounded-full p-1 border-[1px] border-gray-300 border-opacity-50 flex flex-row items-center gap-4 font-bold'
					'
				>
					<a
						href='mailto:cichowlas.p@gmail.com'
						class=`bg-gray-900 hover:bg-gray-700 text-gray-100 py-4 px-8 rounded-full`
					>
						Email
					</a>
				</div>
				<Button class='lg:flex hidden' id='copy' info={email}
					>Copy</Button
				>
				<Button>CV</Button>
			</div>

			<div class='lg:flex flex-row gap-4 font-normal text-lg hidden'>
				<a
					href='#top'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Start</a
				>
				<div>/</div>
				<a
					href='#about-me'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>About Me</a
				>
				<div>/</div>
				<a
					href='#'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Projects</a
				>
				<div>/</div>
				<a
					href='#'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Contact</a
				>
			</div>
			<div id='open-menu' class='lg:hidden flex h-8 w-8'>
				<img src='/portfolio/menu.svg' />
			</div>
		</nav>
		<div
			id='mobile-menu'
			class='top-0 right-0 left-0 h-screen hidden fixed bg-gray-200 z-20 flex-col justify-center items-center gap-8 text-xl'
		>
			<a
				href='#start'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Start</a
			>

			<a
				href='#about-me'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>About Me</a
			>

			<a
				href='#'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Projects</a
			>

			<a
				href='#'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Contact</a
			>

			<Button
				id='close-menu'
				class='bg-gray-100 mt-0 px-4 py-1 font-normal text-xl absolute right-4 top-4'
				simple={true}>X</Button
			>
		</div>
		<Section id='start' type='dark'>
			<div class='relative'>
				<div
					class='p-[5px] border-[1px] border-gray-300 border-opacity-50 w-fit h-fit rounded-full bg-gray-100 mb-4'
				>
					<img
						class='w-48 h-48 object-cover rounded-full'
						src='/portfolio/me.webp'
						alt=''
					/>
				</div>
				<div
					class='absolute animate-wiggle bg-gray-100 rounded-full 2
					lg:w-44 text-center px-4 py-4 lg:left-44 left-40'
				>
					Piotr Cichowlas üëãüèª
				</div>
			</div>

			<div
				class='bg-gradient-to-r text-3xl lg:text-7xl font-bold text-center leading-[0.9] from-gray-900 to-gray-400 text-transparent bg-clip-text'
			>
				Cybersecurity student, <div></div> front-end developer, <div>
				</div>video editor.
			</div>
			<Button
				class='bg-gray-900 text-gray-100 font-normal mt-16 text-sm'
				simple={true}>Learn more</Button
			>
		</Section>
		<Section id='about-me' type='light'>
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla
			pariatur exercitationem molestiae modi. Suscipit dicta numquam
			soluta quisquam, perspiciatis id! Repellat ex atque, ullam
			laudantium officiis, dicta quae aliquid asperiores illo veritatis
			quaerat nulla voluptates voluptas quas obcaecati eaque tenetur
			inventore accusantium nam earum dolorem? Sapiente, expedita
			temporibus debitis commodi est tenetur mollitia optio modi ipsam?
			Non eos delectus, dignissimos nulla veniam rem consectetur itaque
			culpa, voluptates optio illo nostrum ad natus iusto. Maiores
			adipisci aut facilis unde maxime dolorem laudantium quas esse
			excepturi sapiente cum facere, expedita obcaecati perspiciatis eos
			iste incidunt sit quae libero ut, quos asperiores voluptas!
		</Section>
		<Section type='dark'>
			Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ex, sed.
			Inventore adipisci consequatur facere veritatis ullam totam
			voluptatibus aperiam, eaque aliquid quibusdam perspiciatis, tenetur
			ratione ea tempore, deserunt id quod. Lorem ipsum dolor sit amet,
			consectetur adipisicing elit. Ipsam enim ab repellat, quos pariatur
			ullam inventore porro, amet suscipit illo debitis dicta veritatis
			maiores nemo. Architecto harum praesentium, corporis eos odio autem
			quas amet sit cumque optio corrupti, maiores quasi tempore aliquam.
			Alias, mollitia nostrum? Omnis quidem ratione eum numquam iste, ut
			quaerat obcaecati eveniet! Quaerat earum quae enim reprehenderit,
			pariatur maxime molestias eum deserunt ex consequuntur totam, alias
			quia quod, error nostrum odio doloremque quis asperiores culpa
			accusamus voluptatum? Ratione, esse veniam. Enim ipsum quod
			molestias eveniet alias perferendis quidem, corporis in dolorum
			inventore sit laudantium et tempore voluptatem cum quibusdam laborum
			architecto eligendi aut voluptatum atque ea culpa? Nostrum
			architecto sit cumque doloribus. Aliquid suscipit ab iste laudantium
			perspiciatis nihil ea, ducimus qui dolor nesciunt praesentium
			dignissimos nisi molestias cum. Dolorem deleniti expedita nam iusto
			corporis natus molestias earum molestiae voluptas illum. Veritatis
			eius cum necessitatibus amet neque.
		</Section>
	</main>
</Layout>

<script define:vars={{ email }}>
	const delay = (ms) => new Promise((res) => setTimeout(res, ms));
	let copyButton = document.querySelector('#copy');
	copyButton?.addEventListener('click', async () => {
		await navigator.clipboard
			.writeText(email)
			.then(() => (copyButton.textContent = 'Copied!'))
			.catch((error) => console.error(error));
		await delay(2000);
		copyButton.textContent = 'Copy';
	});

	document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
		anchor.addEventListener('click', function (event) {
			event.preventDefault();

			document.querySelector(this.getAttribute('href')).scrollIntoView({
				behavior: 'smooth',
			});
		});
	});

	const mobileMenu = document.querySelector('#mobile-menu');

	const hideMenu = () => {
		mobileMenu.classList.remove('flex');
		mobileMenu.classList.add('hidden');
	};

	const showMenu = () => {
		mobileMenu.classList.remove('hidden');
		mobileMenu.classList.add('flex');
	};

	const closeMenu = document.querySelector('#close-menu');
	const openMenu = document.querySelector('#open-menu');

	closeMenu?.addEventListener('click', () => hideMenu());
	openMenu?.addEventListener('click', () => showMenu());

	const mobileLinks = mobileMenu.children;
	[...mobileLinks].forEach((link) =>
		link.addEventListener('click', () => hideMenu())
	);
</script>
