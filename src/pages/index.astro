---
import Layout from '../layouts/Layout.astro';
import Section from '../layouts/Section.astro';
import Button from '../components/Button.astro';
import Card from '../components/Card.astro';
import Image from 'astro/components/Image.astro';

const email = 'cichowlas.p@gmail.com';
---

<Layout title='cichowlasp - portfolio'>
	<main class='flex justify-center items-center flex-col'>
		<nav
			class='bg-gray-200 flex flex-row justify-between w-screen max-w-screen py-4 lg:p-8 lg:px-16 px-4 items-center sticky top-0 z-10 border-b-2 border-gray-300 border-opacity-50 overflow-hidden'
		>
			<div class='flex gap-4'>
				<div
					class='lg:hidden bg-gray-200 rounded-full p-1 border-[1px] border-gray-300 border-opacity-50 flex flex-row items-center gap-4 font-bold'
					'
				>
					<a
						href='mailto:cichowlas.p@gmail.com'
						class=`bg-gray-900 hover:bg-gray-700 text-gray-100 py-4 px-8 rounded-full`
					>
						Email
					</a>
				</div>
				<Button class='lg:flex hidden' id='copy' info={email}
					>Copy</Button
				>
				<Button>CV</Button>
			</div>

			<div class='lg:flex flex-row gap-4 font-normal text-lg hidden'>
				<a
					href='#start'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Top</a
				>
				<div>/</div>
				<a
					href='#about-me'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>About Me</a
				>
				<div>/</div>
				<a
					href='#projects'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Projects</a
				>
				<div>/</div>
				<a
					href='#contact'
					class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
					>Contact</a
				>
			</div>
			<div
				id='open-menu'
				class='lg:hidden flex h-8 w-8 hover:cursor-pointer'
			>
				<Image
					alt='hamburger menu icon'
					src='/portfolio/menu.svg'
					height={100}
					width={100}
				/>
			</div>
		</nav>
		<div
			id='mobile-menu'
			class='top-0 right-0 left-0 h-screen hidden fixed bg-gray-200 z-20 flex-col justify-center items-center gap-8 text-xl'
		>
			<a
				href='#start'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Top</a
			>

			<a
				href='#about-me'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>About Me</a
			>

			<a
				href='#projects'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Projects</a
			>

			<a
				href='#contact'
				class='hover:underline hover:underline-offset-2 hover:cursor-pointer'
				>Contact</a
			>

			<Button
				id='close-menu'
				class='bg-gray-100 mt-0 px-4 py-1 font-normal text-xl absolute right-4 top-4'
				simple={true}>X</Button
			>
		</div>
		<Section id='start' type='dark'>
			<div class='relative'>
				<div
					class='p-[5px] border-[1px] border-gray-300 border-opacity-50 w-fit h-fit rounded-full bg-gray-100 mb-4'
				>
					<Image
						class='w-48 h-48 object-cover rounded-full'
						src='/portfolio/me.webp'
						alt='site creator'
						width={100}
						height={100}
					/>
				</div>
				<div
					class='absolute animate-wiggle bg-gray-100 rounded-full 2
					lg:w-44 text-center px-4 py-4 lg:left-44 left-40'
				>
					Piotr Cichowlas üëãüèª
				</div>
			</div>

			<h1
				class='bg-gradient-to-r text-3xl lg:text-7xl font-bold text-center leading-[0.9] from-gray-900 to-gray-400 text-transparent bg-clip-text'
			>
				Cybersecurity student, <div></div> front-end developer, <div>
				</div>video editor.
			</h1>
			<Button
				id='learn-more'
				class='bg-gray-900 hover:bg-gray-700 text-gray-100 font-normal mt-16 text-sm'
				simple={true}>Learn more</Button
			>
		</Section>
		<Section id='about-me' type='light' title='About Me'>
			<div
				class='grid grid-cols-2 lg:grid-cols-4 lg:gap-20 gap-10 lg:px-16'
			>
				<Card
					icon='/portfolio/lock.svg'
					alt='locker'
					title='Cybersecurity'
					body='Securing the future by safeguarding data and systems. Wielding expertise in cybersecurity to protect networks, data, and users from digital threats.'
				/><Card
					icon='/portfolio/code.svg'
					alt='code editor'
					title='Front End Development'
					body='Building interactive and responsive web experiences. Creating engaging and dynamic user interfaces with a focus on performance and usability.'
				/><Card
					icon='/portfolio/video.svg'
					alt='film frames'
					title='Video Editing'
					body='Transforming raw footage into captivating stories. Blending technical skills and creative vision to produce polished, professional video content.'
				/><Card
					icon='/portfolio/laptop.svg'
					alt='laptop'
					title='Technology Enthusiast'
					body='Exploring and mastering the latest in tech. From assembling PCs to diving deep into operating systems, driven by a passion for technology.'
				/>
			</div>
		</Section>
		<Section type='dark' id='projects' title='Projects'>
			<div class='grid lg:grid-cols-3 lg:gap-4'>
				<div
				class='bg-gray-200 p-1 border-[1px] border-gray-300 border-opacity-50 min-h-32 w-[calc(100vw-1rem)] rounded-3xl mb-8 lg:w-fit'
			>
				<div
					class='bg-gray-100 py-4 px-6 min-h-32 w-full gap-2 rounded-[20px]'
				>
					<h3 class='font-bold text-xl mb-2'>Cybersecurity</h3>
					<p>
						Lorem ipsum, dolor sit amet consectetur adipisicing
						elit. Quaerat, nesciunt officiis fugit sint sequi omnis
						quas est ullam consectetur, consequuntur impedit tempore
						ab deleniti eum. Quibusdam id maiores excepturi magnam!
					</p>
				</div>
			</div>
			<div
				class='bg-gray-200 p-1 border-[1px] border-gray-300 border-opacity-50 min-h-32 w-[calc(100vw-1rem)] rounded-3xl mb-8 lg:w-fit'
			>
				<div
					class='bg-gray-100 py-4 px-6 min-h-32 w-full gap-2 rounded-[20px]'
				>
					<h3 class='font-bold text-xl mb-2'>
						Front End Development
					</h3>
					<p>
						Lorem ipsum, dolor sit amet consectetur adipisicing
						elit. Quaerat, nesciunt officiis fugit sint sequi omnis
						quas est ullam consectetur, consequuntur impedit tempore
						ab deleniti eum. Quibusdam id maiores excepturi magnam!
					</p>
				</div>
			</div>
			<div
				class='bg-gray-200 p-1 border-[1px] border-gray-300 border-opacity-50 min-h-32 w-[calc(100vw-1rem)] rounded-3xl lg:w-fit'
			>
				<div
					class='bg-gray-100 py-4 px-6 min-h-32 w-full gap-2 rounded-[20px]'
				>
					<h3 class='font-bold text-xl mb-2'>Video editing</h3>
					<p>
						Lorem ipsum, dolor sit amet consectetur adipisicing
						elit. Quaerat, nesciunt officiis fugit sint sequi omnis
						quas est ullam consectetur, consequuntur impedit tempore
						ab deleniti eum. Quibusdam id maiores excepturi magnam!
					</p>
				</div>
			</div></div>
			
		</Section>
		<Section id='contact' type='light'>
			<div
				class='bg-gradient-to-b from-gray-300 to-gray-100 rounded-full mb-8'
			>
				<div
					class='rounded-full bg-gradient-to-b from-gray-200 to-gray-100 m-1'
				>
					<Image
						src='/portfolio/contact.svg'
						alt='contact informations'
						height={200}
						width={200}
						class='opacity-30 p-8'
					/>
				</div>
			</div>
			<h2
				class='p-1 mb-10 bg-gradient-to-r text-3xl lg:text-5xl font-bold text-center from-gray-900 to-gray-400 text-transparent bg-clip-text'
			>
				Let's work together!
			</h2>
			<div class='flex flex-row gap-5'>
				<div
					class='bg-gray-200 rounded-full p-1 border-[1px] border-gray-300 border-opacity-50 flex flex-row items-center gap-4 text-sm'
					'
				>
					<a
						href='mailto:cichowlas.p@gmail.com'
						class='bg-gray-900 hover:bg-gray-700 text-gray-100 py-4 px-6 rounded-full flex flex-row items-center justify-center w-32 gap-2'
					>
						<Image
							src='/portfolio/email.svg'
							class='fill-gray-100'
							alt='email envelope'
							width={20}
							height={20}
						/>
						Email
					</a>
				</div>
				<div
					class='bg-gray-200 rounded-full p-1 border-[1px] border-gray-300 border-opacity-50 flex flex-row items-center gap-4 text-sm'
					'
				>
					<a
						href='tel:+48733330488'
						class='bg-gray-100 hover:bg-gray-300 text-gray-800 py-4 px-6 rounded-full flex flex-row items-center w-32 justify-center gap-2'
					>
						<Image
							src='/portfolio/phone.svg'
							alt='old phone'
							width={20}
							height={20}
						/>
						Phone
					</a>
				</div>
			</div>
		</Section>
	</main>
	<footer
		class='bg-gray-200 h-24 flex justify-center items-center text-center font-light text-sm'
	>
		<div class='opacity-50'>üë®üèª‚Äçüíª Piotr Cichowlas 2024</div>
	</footer>
</Layout>

<script define:vars={{ email }}>
	const delay = (ms) => new Promise((res) => setTimeout(res, ms));
	let copyButton = document.querySelector('#copy');
	copyButton?.addEventListener('click', async () => {
		await navigator.clipboard
			.writeText(email)
			.then(() => (copyButton.textContent = 'Copied!'))
			.catch((error) => console.error(error));
		await delay(2000);
		copyButton.textContent = 'Copy';
	});

	document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
		anchor.addEventListener('click', function (event) {
			event.preventDefault();

			document.querySelector(this.getAttribute('href')).scrollIntoView({
				behavior: 'smooth',
			});
		});
	});

	const mobileMenu = document.querySelector('#mobile-menu');

	const hideMenu = () => {
		mobileMenu.classList.remove('flex');
		mobileMenu.classList.add('hidden');
	};

	const showMenu = () => {
		mobileMenu.classList.remove('hidden');
		mobileMenu.classList.add('flex');
	};

	const closeMenu = document.querySelector('#close-menu');
	const openMenu = document.querySelector('#open-menu');

	closeMenu?.addEventListener('click', () => hideMenu());
	openMenu?.addEventListener('click', () => showMenu());

	const mobileLinks = mobileMenu.children;
	[...mobileLinks].forEach((link) =>
		link.addEventListener('click', () => hideMenu())
	);

	const findPosition = (obj) => {
		var currenttop = 0;
		if (obj.offsetParent) {
			do {
				currenttop += obj.offsetTop;
			} while ((obj = obj.offsetParent));
			return [currenttop - 100];
		}
	};

	const learnButton = document.querySelector('#learn-more');
	learnButton.addEventListener('click', () =>
		scrollTo({
			top: findPosition(document.querySelector('#about-me')),
			behavior: 'smooth',
		})
	);
</script>
